
| Component Name | Responsibility | Interfaces (key endpoints or methods) | Depends On (other modules) | Technologies (frameworks, DBs, patterns) |
|---|---|---|---|---|
| Owner Management Component | Handles CRUD operations for owners, searches for owners by last name with pagination, and manages owner contact information. | `GET/POST /owners`, `GET /owners/{ownerId}`, `POST /owners/{ownerId}/edit` | OwnerRepository, Pet model | Spring MVC, Spring Data JPA, Thymeleaf, Jakarta Validation, Pagination |
| Pet Management Component | Manages pet information (name, birth date, type) for a specific owner, including validation rules like unique names and non-future dates. | `GET/POST /owners/{ownerId}/pets/new`, `GET/POST /owners/{ownerId}/pets/{petId}/edit` | OwnerRepository, PetTypeRepository, Pet model | Spring MVC, Spring Data JPA, Thymeleaf, Custom Validators (PetValidator), Spring Formatters |
| Visit Management Component | Schedules and records visits for a specific pet, ensuring visit dates are not in the future. | `GET/POST /owners/{ownerId}/pets/{petId}/visits/new` | OwnerRepository (for cascade access to Pet/Visit), Pet model | Spring MVC, Spring Data JPA (via cascade), Thymeleaf, Jakarta Validation |
| Vet Management Component | Provides a read-only, paginated list of veterinarians and their specialties, served as both HTML and JSON. Data is cached for performance. | `GET /vets.html`, `GET /vets` | VetRepository | Spring MVC, Spring Data JPA, Caching (Caffeine, JCache API), Thymeleaf |
| Catalog Data Component | Manages reference data for pet types and veterinary specialties. Provides read access to this relatively static data. | `PetTypeRepository` methods, `SpecialtyRepository` methods | JPA/Hibernate Database Layer | Spring Data JPA, JPA Entities, Data Loading via `data.sql` |
| UI & Static Resources | Renders server-side HTML views, provides responsive styling, and handles internationalization of text content. | Thymeleaf templates (e.g., `owners.html`, `pets.html`), SCSS files, `messages_{locale}.properties` | All MVC Controllers (provides model data) | Thymeleaf, Bootstrap CSS, SCSS (libsass-maven-plugin), Spring MessageSource (i18n), Responsive Design |
| Core Data Layer | Abstracts all data persistence and retrieval, managing transactions, entity mappings, and support for multiple database backends. | `OwnerRepository`, `PetRepository`, `VetRepository`, `ClinicService` interfaces | H2 / MySQL / PostgreSQL Database | Spring Data JPA, Jakarta Persistence API, `@Transactional`, Testcontainers, Multi-DB Profiles, Repository Pattern |
| Application Infrastructure | Provides cross-cutting concerns like health checks, metrics, error handling, and configuration management for the entire application. | `/livez`, `/readyz`, `/error`, Actuator endpoints | All application components | Spring Boot Actuator, Thymeleaf Error Pages, Profile-based Configuration, JMX (for cache stats) |