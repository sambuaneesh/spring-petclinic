| Component Name | Responsibility | Interfaces (key endpoints or methods) | Depends On (other modules) | Technologies (frameworks, DBs, patterns) |
|---|---|---|---|---|
| PetClinicApplication | Bootstraps the application and component scanning | main(String[] args) | All Spring components via DI, Auto-configuration | Spring Boot 3.5, Buildpacks |
| PetClinicRuntimeHints | Registers AOT/native runtime hints (resources/serialization) | registerHints(RuntimeHints, ClassLoader) for db/*, messages/*; serializes BaseEntity, Person, Vet | Core Model, Vet Aggregate | Spring AOT, GraalVM native |
| WebConfiguration | Internationalization and MVC interceptor setup | SessionLocaleResolver; LocaleChangeInterceptor (?lang); addInterceptors | Thymeleaf UI, Controllers, Message bundles | Spring MVC, i18n (message bundles), LocaleResolver pattern |
| CacheConfiguration | Enables and configures cache “vets” with stats | @EnableCaching; JCacheManagerCustomizer; cache name "vets" | VetRepository, VetController | Spring Cache, JCache API, Caffeine |
| WelcomeController | Serves the home/welcome page | GET / → view "welcome" | Thymeleaf UI | Spring MVC, Thymeleaf |
| CrashController | Demonstrates error handling via forced exception | GET /oups → throws RuntimeException | Spring Boot error handling | Spring MVC, ErrorController behavior |
| OwnerController | Owner CRUD and search with pagination | - GET /owners/new; POST /owners/new  - GET /owners/find  - GET /owners?lastName=&page=  - GET /owners/{ownerId}  - GET/POST /owners/{ownerId}/edit | OwnerRepository, Thymeleaf UI, Bean Validation | Spring MVC, Spring Data JPA, Pagination (Pageable), Bean Validation |
| PetController | Create/update pets under an owner with validation | - GET/POST /owners/{ownerId}/pets/new  - GET/POST /owners/{ownerId}/pets/{petId}/edit | OwnerRepository, PetTypeRepository, PetTypeFormatter, PetValidator, Thymeleaf UI | Spring MVC, Spring Data JPA, Formatter, Bean Validation |
| VisitController | Create visits for a pet under an owner | GET/POST /owners/{ownerId}/pets/{petId}/visits/new | OwnerRepository, Thymeleaf UI | Spring MVC, Spring Data JPA, Bean Validation |
| VetController | Lists veterinarians (HTML with paging; JSON API) | - GET /vets.html?page=N → view "vets/vetList"  - GET /vets → JSON (Vets wrapper) | VetRepository, CacheConfiguration, Thymeleaf UI | Spring MVC, Spring Cache, Jackson (JSON), Thymeleaf |
| OwnerRepository | Persistence for Owner aggregate (cascades pets/visits) | JpaRepository<Owner,Integer>; findByLastNameStartingWith(String, Pageable); findById(Integer) | Owner Aggregate, Database | Spring Data JPA, Hibernate |
| PetTypeRepository | Access PetType reference data | JpaRepository<PetType,Integer>; findPetTypes() (JPQL order by name) | PetType, Database | Spring Data JPA, JPQL |
| VetRepository | Data access for Vet; cached reads | findAll(); findAll(Pageable) — both @Cacheable("vets") | Vet Aggregate, CacheConfiguration, Database | Spring Data JPA, Spring Cache |
| PetTypeFormatter | String/Object conversion for PetType in forms | parse(String, Locale): PetType; print(PetType, Locale): String | PetTypeRepository | Spring MVC Formatter |
| PetValidator | Custom validation for Pet fields | supports(Pet.class); validate(Object, Errors) | PetController; Bean Validation on entities | Spring Validator, Bean Validation |
| Owner Aggregate (Owner, Pet, Visit) | Core domain aggregate; cascaded persistence; domain rules | Owner.getPet(name|id, ignoreNew); Owner.addPet(Pet); Owner.addVisit(petId, Visit); Pet.addVisit(Visit) | Core Model, PetType | JPA/Hibernate; @OneToMany EAGER; CascadeType.ALL; @OrderBy; Bean Validation (NotBlank, regex) |
| PetType | Reference data for pet types | NamedEntity.getName(); id accessors | Core Model | JPA/Hibernate; @Entity |
| Vet Aggregate (Vet, Specialty, Vets DTO) | Vet domain with specialties; wrapper for API marshalling | Vet.getSpecialties(); getNrOfSpecialties(); addSpecialty(Specialty); Vets.getVetList() | Core Model | JPA/Hibernate; @ManyToMany EAGER; Sorting; JAXB annotations (XML); JSON via Jackson |
| Core Model (BaseEntity, Person, NamedEntity) | Shared base types for entities (id, names) | BaseEntity.getId(); isNew(); Person(firstName,lastName); NamedEntity.getName() | All domain aggregates | JPA @MappedSuperclass; Serializable |
| Thymeleaf UI (templates/fragments) | Server-side rendered views and forms with i18n | Views: welcome, vets/vetList, owners/*, pets/*, error; fragments/layout | Controllers; WebConfiguration; Message bundles; WebJars | Thymeleaf, WebJars (Bootstrap, Font Awesome), SCSS/CSS, i18n |
| Persistence & DB Profiles | Initialize schema and seed data; profile-based DB selection | db/{h2,hsqldb,mysql,postgres}/schema.sql,data.sql; H2 console /h2-console | Spring SQL init; application-* properties; Docker/K8s bindings | H2/MySQL/Postgres; Spring SQL init; Service Binding (K8s) |
| Actuator & Probes | Operational endpoints and Kubernetes health checks | /actuator/*; /livez; /readyz | Application runtime; K8s manifests | Spring Boot Actuator; Kubernetes probes; Observability patterns |