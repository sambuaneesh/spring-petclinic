| Component Name | Responsibility | Interfaces (key endpoints or methods) | Depends On (other modules) | Technologies (frameworks, DBs, patterns) |
|---|---|---|---|---|
| Application Bootstrap (PetClinicApplication) | Bootstraps the Spring application and enables component scanning | main(String[]), @SpringBootApplication | Runtime Hints, Web Controllers, Repositories, Cache Configuration, Domain Models | Spring Boot 3.0.2, Actuator, Auto-Configuration |
| Runtime Hints (PetClinicRuntimeHints) | Registers resource patterns for AOT/native image support | registerHints(RuntimeHints) | Resource files (db/*, META-INF/resources/webjars/*) | Spring AOT RuntimeHints |
| Owner Web Controller (OwnerController) | Owner CRUD, search, details, pagination | GET /owners/new, POST /owners/new, GET /owners/find, GET /owners, GET /owners/{ownerId}, GET /owners/{ownerId}/edit, POST /owners/{ownerId}/edit | Owner Repository, Owner Domain Model, Thymeleaf templates (owners/*) | Spring MVC, Thymeleaf, Jakarta Validation, Spring Data Page/Pagination |
| Pet Web Controller (PetController) | Create/update pets under an owner; validation and type binding | GET /owners/{ownerId}/pets/new, POST /owners/{ownerId}/pets/new, GET /owners/{ownerId}/pets/{petId}/edit, POST /owners/{ownerId}/pets/{petId}/edit | Owner Repository, PetTypeFormatter, PetValidator, Owner Domain Model | Spring MVC, Formatter API, Custom Validator, Thymeleaf |
| Visit Web Controller (VisitController) | Schedule and persist pet visits | @ModelAttribute loadPetWithVisit(...), GET /owners/{ownerId}/pets/{petId}/visits/new, POST /owners/{ownerId}/pets/{petId}/visits/new | Owner Repository, Owner Domain Model | Spring MVC, Jakarta Validation, Thymeleaf |
| Vet Web Controller (VetController) | List veterinarians (HTML and JSON), pagination | GET /vets.html, GET /vets (JSON) | Vet Repository, Vets wrapper DTO | Spring MVC, Thymeleaf, Spring Cache (via repository), Pagination |
| Welcome Controller (WelcomeController) | Home page routing | GET / | Thymeleaf template (welcome.html) | Spring MVC, Thymeleaf |
| Crash Controller (CrashController) | Demonstrates error handling by throwing an exception | GET /oups | Error view (error.html) | Spring MVC, Default error handling |
| Owner Repository (OwnerRepository) | Data access for Owners and PetTypes with JPQL and pagination | findPetTypes(), findByLastName(String, Pageable): Page<Owner>, findById(Integer): Owner, save(Owner), findAll(Pageable): Page<Owner> | JPA Entities (Owner, Pet, PetType, Visit), Database | Spring Data JPA (Repository), JPQL, Pagination; DBs: H2/MySQL/Postgres |
| Vet Repository (VetRepository) | Data access for Vets/Specialties with caching support | findAll(): Collection<Vet>, findAll(Pageable): Page<Vet> | JPA Entities (Vet, Specialty), Cache “vets”, Database | Spring Data JPA, Spring Cache (@Cacheable), JCache API, Caffeine, Pagination |
| Owner Domain Model (Owner, Pet, PetType, Visit, PetValidator, PetTypeFormatter) | Core aggregate with business rules, validation and type conversion | Owner.addPet(Pet), Owner.getPet(name/id), Owner.addVisit(petId, Visit); Pet.addVisit(Visit), getVisits(); PetValidator.validate(Object, Errors); PetTypeFormatter.print/parse | BaseEntity, NamedEntity, Person; Owner Repository (for formatter) | JPA Entities and mappings, Bean Validation, Formatter API, Aggregate pattern |
| Vet Domain Model (Vet, Specialty, Vets) | Vet profile and specialties; list wrapper for views/JSON | Vet.getSpecialties(), Vet.addSpecialty(Specialty), Vet.getNrOfSpecialties(); Vets.getVetList() | BaseEntity, NamedEntity | JPA Entities (ManyToMany EAGER), JAXB annotations (XmlElement/XmlRootElement) |
| Cache Configuration (CacheConfiguration) | Enables and configures application caches | @EnableCaching; @Bean JCacheManagerCustomizer (creates “vets” cache) | Spring Cache abstraction, JCache provider | Spring Cache, JCache API, Caffeine (JCache impl), JMX stats |
| UI Templates (Thymeleaf Views) | Render HTML views for features | owners/*, pets/*, vets/vetList.html, fragments/*, error.html, welcome.html | Web Controllers, Model attributes; WebJars assets | Thymeleaf, Bootstrap 5 (WebJars), SCSS compiled via libsass Maven plugin |
| Database Schema & Seed Data (SQL) | Initialize schema and data per profile | schema.sql, data.sql under db/h2, db/mysql, db/postgres; application(-mysql|-postgres).properties | JPA mappings; Spring SQL init; Docker Compose (mysql, postgres) | H2 (default, in-memory), MySQL 5.7, PostgreSQL 14; Spring SQL init, Profiles |