| Component Name | Responsibility | Interfaces (key endpoints or methods) | Depends On (other modules) | Technologies (frameworks, DBs, patterns) |
|---|---|---|---|---|
| Application Bootstrap & Runtime Hints (org.springframework.samples.petclinic) | Start and wire the application; component scanning; AOT/native resource hints; integration smoke tests | PetClinicApplication.main(...); PetClinicRuntimeHints.registerHints(...); End-to-end test hits /owners/1 | Composes: Owners/Pets/Visits Module, Veterinarians Module, System Infrastructure, Domain Base Model, Service Utilities | Spring Boot (auto-config, embedded server), Spring AOT RuntimeHints (GraalVM readiness), Spring Test |
| Domain Base Model (org.springframework.samples.petclinic.model) | Shared domain foundations: identity, naming, person attributes, validation | BaseEntity.getId()/setId()/isNew(); Person.getFirstName()/getLastName(); NamedEntity.getName()/toString(); Bean Validation constraints | — (used by all domain modules) | JPA mapped superclasses, Jakarta Bean Validation, POJO entities, DRY inheritance pattern |
| Owners/Pets/Visits Module (org.springframework.samples.petclinic.owner) | End-to-end owner, pet, and visit management: entities, repository, validators/formatters, MVC controllers | HTTP: GET/POST /owners/new, GET/POST /owners/{ownerId}/edit, GET /owners/find, GET /owners (search/paged), GET /owners/{ownerId}; GET/POST /owners/{ownerId}/pets/new; GET/POST /owners/{ownerId}/pets/{petId}/edit; GET/POST /owners/{ownerId}/pets/{petId}/visits/new. Repository: OwnerRepository.findById(...), findByLastName(..., Pageable), findAll(Pageable), findPetTypes(), save(Owner). Infra: PetTypeFormatter.print/parse, PetValidator.validate | Domain Base Model; System Infrastructure (web stack); Application Bootstrap | Spring MVC (controllers, binding), Spring Data JPA (repositories), JPA/Hibernate (entities/relationships), Jakarta Validation, Formatter/Validator patterns, Pagination, Aggregate Root (Owner), PRG navigation |
| Veterinarians Module (org.springframework.samples.petclinic.vet) | Vet directory: entity, cached repository, MVC/JSON/XML endpoints, transport wrapper | HTTP: GET /vets.html (HTML list), GET /vets (JSON/XML). Repository: VetRepository.findAll(), findAll(Pageable). DTO: Vets.getVetList() | Domain Base Model; System Infrastructure (caching); Application Bootstrap | Spring MVC, Spring Data JPA, Spring Cache (@Cacheable) with JCache (JSR‑107), Content negotiation (JSON/XML), DTO wrapper pattern |
| System Infrastructure (Caching, Welcome/Crash) (org.springframework.samples.petclinic.system) | Cross-cutting infra: cache setup, welcome page, controlled crash for error-path validation | CacheConfiguration: JCacheManagerCustomizer (creates “vets” cache). HTTP: GET / (or /welcome) -> welcome view; GET /oups -> throws RuntimeException (exception view via global handling) | Application Bootstrap (composition); consumed by Veterinarians Module (cache) | Spring Cache abstraction, JCache (JSR‑107), Spring MVC (thin controllers), Operability/diagnostics patterns |
| Service Utilities & Contracts/Tests (org.springframework.samples.petclinic.service) | Shared service utilities and integration tests that validate persistence behavior and relationships | EntityUtils: type-safe get-by-id lookup (throws ObjectRetrievalFailureException). ClinicServiceTests: CRUD/relationship/cascade/pagination verification across entities | Domain Base Model; Owners/Pets/Visits Module; Veterinarians Module; Application Bootstrap (test context) | Spring Framework (exceptions/util), Spring Data JPA (tested), JUnit + Spring Test, Contract/integration testing pattern |
| Build Bootstrap (Maven Wrapper) | Ensure reproducible builds by downloading Maven Wrapper JAR on demand; CI/dev convenience | MavenWrapperDownloader.main(...); Downloads .mvn/wrapper/maven-wrapper.jar based on properties/env | — (build-time only) | Maven Wrapper, Java I/O/Networking, Secure download defaults, Zero-install build pattern |